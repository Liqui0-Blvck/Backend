# ==============================================
# CONFIGURACIÓN DE PRODUCCIÓN CON PREFIJO P_
# ==============================================

# Entorno de ejecución
ENVIRONMENT=production

# IMPORTANTE: Generar una clave secreta única para producción
# Puedes usar: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=CAMBIAR-POR-CLAVE-SECRETA-UNICA-DE-PRODUCCION

# Modo debug SIEMPRE False en producción (se configura automáticamente)
DEBUG=False

# Hosts permitidos - CAMBIAR por tu dominio real
ALLOWED_HOSTS=fruitpos.cl,www.fruitpos.cl,api.fruitpos.cl

# ==============================================
# BASE DE DATOS POSTGRESQL - PRODUCCIÓN (PREFIJO P_)
# ==============================================

P_POSTGRES_DB=fruitpos_prod
P_POSTGRES_USER=fruitpos_prod_user
P_POSTGRES_PASSWORD=PASSWORD-SUPER-SEGURO-DE-PRODUCCION
P_POSTGRES_HOST=localhost
P_POSTGRES_PORT=5432

# ==============================================
# REDIS - PRODUCCIÓN (PREFIJO P_)
# ==============================================

P_REDIS_URL=redis://localhost:6379/0

# ==============================================
# DIGITALOCEAN SPACES - PRODUCCIÓN (PREFIJO P_)
# CONFIGURACIÓN REAL DEL USUARIO
# ==============================================

# Habilitar o deshabilitar DigitalOcean Spaces (True/False)
P_USE_SPACES=True

# Credenciales de DigitalOcean Spaces
P_SPACES_ACCESS_KEY_ID=tu-spaces-access-key-id
P_SPACES_SECRET_ACCESS_KEY=tu-spaces-secret-access-key

# Configuración del bucket y región (VALORES REALES DEL USUARIO)
P_SPACES_BUCKET_NAME=fruitpost
P_SPACES_ENDPOINT_URL=https://sfo3.digitaloceanspaces.com
P_SPACES_REGION=sfo3

# Dominio CDN personalizado (opcional, mejora rendimiento)
P_SPACES_CDN_DOMAIN=fruitpost.sfo3.cdn.digitaloceanspaces.com

# ==============================================
# ARCHIVOS ESTÁTICOS Y MEDIA - PRODUCCIÓN (PREFIJO P_)
# ==============================================

# Solo se usan si P_USE_SPACES=False (fallback a almacenamiento local)
P_STATIC_ROOT=/var/www/fruitpos/static
P_MEDIA_ROOT=/var/www/fruitpos/media

# ==============================================
# CORS - PRODUCCIÓN (PREFIJO P_)
# ==============================================

P_CORS_ALLOWED_ORIGINS=https://fruitpos.cl,https://www.fruitpos.cl

# ==============================================
# SECURITY SETTINGS - PRODUCCIÓN (PREFIJO P_)
# ==============================================

# SSL/HTTPS Configuration - OBLIGATORIO en producción
P_SECURE_SSL_REDIRECT=True

# ==============================================
# EMAIL CONFIGURATION - PRODUCCIÓN (PREFIJO P_)
# ==============================================

P_EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
P_EMAIL_HOST=smtp.gmail.com
P_EMAIL_PORT=587
P_EMAIL_USE_TLS=True
P_EMAIL_HOST_USER=tu-email-de-produccion@gmail.com
P_EMAIL_HOST_PASSWORD=tu-app-password-de-gmail
P_DEFAULT_FROM_EMAIL=noreply@fruitpos.cl

# ==============================================
# LOGGING - PRODUCCIÓN (PREFIJO P_)
# ==============================================

P_LOG_FILE=/var/log/fruitpos/django.log
P_DJANGO_LOG_LEVEL=WARNING

# ==============================================
# CONFIGURACIÓN AUTOMÁTICA
# ==============================================

# NOTA: El sistema detecta automáticamente que está en producción
# cuando encuentra la variable P_POSTGRES_DB y activa:
# - DEBUG=False
# - Configuraciones de seguridad SSL
# - ALLOWED_HOSTS para fruitpos.cl
# - Configuraciones optimizadas para producción
# - DigitalOcean Spaces si P_USE_SPACES=True

# ==============================================
# VARIABLES DE DESARROLLO (SIN PREFIJO P_)
# ==============================================

# Para desarrollo local, usa estas variables SIN prefijo P_:
# POSTGRES_DB=fruitpos
# POSTGRES_USER=fruitpos_user  
# POSTGRES_PASSWORD=fruitpos_password_123
# POSTGRES_HOST=db
# POSTGRES_PORT=5433
# REDIS_URL=redis://redis:6379/0

# ==============================================
# ESTRUCTURA DE ARCHIVOS EN DIGITALOCEAN SPACES
# ==============================================

# Con la configuración actual, los archivos se organizan así:
# fruitpost/                    ← Tu bucket real
# ├── fruitpos/
# │   ├── static/          # Archivos estáticos (CSS, JS, imágenes del admin)
# │   ├── media/           # Archivos subidos por usuarios (públicos)
# │   └── private/         # Archivos privados (requieren autenticación)

# URLs de ejemplo con tu configuración real:
# Static: https://fruitpost.sfo3.cdn.digitaloceanspaces.com/fruitpos/static/
# Media:  https://fruitpost.sfo3.cdn.digitaloceanspaces.com/fruitpos/media/

# ==============================================
# NOTAS IMPORTANTES PARA PRODUCCIÓN
# ==============================================

# 1. El prefijo P_ indica variables de PRODUCCIÓN
# 2. Variables sin prefijo P_ son para DESARROLLO
# 3. El sistema cambia automáticamente entre configuraciones
# 4. NUNCA mezcles variables P_ con variables sin prefijo
# 5. Asegúrate de configurar HTTPS correctamente
# 6. Usa contraseñas seguras para P_POSTGRES_PASSWORD
# 7. Configura un servidor de email real para producción
# 8. Los logs de producción van a /var/log/fruitpos/
# 9. DigitalOcean Spaces mejora significativamente el rendimiento
# 10. El CDN de Spaces acelera la entrega de archivos estáticos
# 11. Configura las credenciales de Spaces en el panel de DigitalOcean
# 12. Asegúrate de que el bucket tenga permisos de lectura pública
# 13. Tu bucket real es 'fruitpost' en la región 'sfo3'
